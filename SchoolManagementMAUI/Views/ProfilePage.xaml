<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SchoolManagementMAUI.Views.ProfilePage"
             Title="My Profile">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">
            <!-- Profile picture -->
            <Grid ColumnDefinitions="Auto,*" ColumnSpacing="12" VerticalOptions="Start">
                <Frame Grid.Column="0"
                       CornerRadius="40" WidthRequest="80" HeightRequest="80" Padding="0">
                    <Image Source="{Binding ProfilePictureUrl}" Aspect="AspectFill" />
                </Frame>
                <VerticalStackLayout Grid.Column="1" Spacing="8" VerticalOptions="Center">
                    <Button Text="Change photo" Command="{Binding PickProfilePictureCommand}" />
                </VerticalStackLayout>
            </Grid>

            <!-- Official photo  -->
            <Label Text="Official photo" FontAttributes="Bold" />
            <Grid ColumnDefinitions="*,*">
                <Frame Grid.Column="0" CornerRadius="8" Padding="0" HeightRequest="120">
                    <Image Source="{Binding OfficialPhotoUrl}" Aspect="AspectFill" />
                </Frame>
                <!-- Empty second column keeps the image at half the available width -->
            </Grid>

            <!-- Editable fields -->
            <Entry Placeholder="Full name" Text="{Binding FullName}" />
            <Entry Placeholder="Phone number" Text="{Binding PhoneNumber}" Keyboard="Telephone" />
            <Entry Placeholder="Email" Text="{Binding Email}" Keyboard="Email" />
            <DatePicker Date="{Binding DateOfBirth}" />
            <Editor Placeholder="Address" Text="{Binding Address}" AutoSize="TextChanges" />

            <!-- Actions -->
            <Button Text="Save" Command="{Binding SaveCommand}" />
            <Button Text="Back" Clicked="OnBackClicked" />
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>