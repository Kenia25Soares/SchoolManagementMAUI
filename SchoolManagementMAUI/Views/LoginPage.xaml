<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:SchoolManagementMAUI.ViewModels"
             x:Class="SchoolManagementMAUI.Views.LoginPage"
             Shell.NavBarIsVisible="False">

    <!--<ContentPage.BindingContext>
        <vm:LoginViewModel />
    </ContentPage.BindingContext>-->

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
    
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                <Label Text="Welcome" Style="{StaticResource EducationalLoginTitle}" />
                <Label Text="Login to continue" Style="{StaticResource EducationalLoginSubtitle}" />
            </VerticalStackLayout>

            <!-- Login Fields -->
            <VerticalStackLayout Spacing="15">
                <Entry Placeholder="Email" 
                       Text="{Binding Email}" 
                       Keyboard="Email" 
                       Style="{StaticResource EducationalLoginEntry}"
                       Margin="0,0,0,10" />
                <Entry Placeholder="Password" 
                       Text="{Binding Password}" 
                       IsPassword="True" 
                       Style="{StaticResource EducationalLoginEntry}"
                       Margin="0,0,0,10" />

                <Button Text="Login" 
                        Command="{Binding LoginCommand}" 
                        IsEnabled="{Binding IsBusy, Converter={StaticResource InverseBoolConverter}}"
                        Style="{StaticResource EducationalPrimaryButton}"
                        Margin="0,10,0,0" />

                <!-- Back to Home -->
                <Button Text="Back" 
                        Style="{StaticResource EducationalSecondaryButton}"
                        Clicked="OnBackToHomeClicked" />
            </VerticalStackLayout>

            <!-- Password Recovery Section -->
            <VerticalStackLayout Spacing="10">
                <Label Text="Forgot your password?" 
                       FontSize="14" 
                       HorizontalOptions="Center" 
                       TextColor="Gray" />

                <Button Text="Recover Password" 
                        Command="{Binding GoToRecoverPasswordCommand}" 
                        Style="{StaticResource EducationalSecondaryButton}" />




            </VerticalStackLayout>

            <!-- Status Message -->
            <Border IsVisible="{Binding HasMessage}"
                    Style="{StaticResource EducationalSuccessMessageBorder}">
                <Label Text="{Binding Message}" 
                       Style="{StaticResource EducationalSuccessMessageLabel}" />
            </Border>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>