<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:SchoolManagementMAUI.ViewModels"
             x:Class="SchoolManagementMAUI.Views.LoginPage"
             Title="Login">

    <!--<ContentPage.BindingContext>
        <vm:LoginViewModel />
    </ContentPage.BindingContext>-->

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            <!-- Logo ou Título -->
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                <Label Text="Bem-vindo" FontSize="28" FontAttributes="Bold" HorizontalOptions="Center" />
                <Label Text="Faça login para continuar" FontSize="16" TextColor="Gray" HorizontalOptions="Center" />
            </VerticalStackLayout>

            <!-- Campos de Login -->
            <VerticalStackLayout Spacing="15">
                <Entry Placeholder="Email" 
                       Text="{Binding Email}" 
                       Keyboard="Email" 
                       Margin="0,0,0,10" />
                <Entry Placeholder="Password" 
                       Text="{Binding Password}" 
                       IsPassword="True" 
                       Margin="0,0,0,10" />

                <!-- Botão de Login -->
                <Button Text="Entrar" 
                        Command="{Binding LoginCommand}" 
                        BackgroundColor="#007AFF"
                        TextColor="White"
                        CornerRadius="8"
                        HeightRequest="50"
                        Margin="0,10,0,0" />
            </VerticalStackLayout>

            <!-- Seção de Recuperação de Password -->
            <VerticalStackLayout Spacing="10">
                <Label Text="Esqueceu sua password?" 
                       FontSize="14" 
                       HorizontalOptions="Center" 
                       TextColor="Gray" />

                <Button Text="Recuperar Password" 
                        Command="{Binding RecoverPasswordCommand}" 
                        IsEnabled="{Binding CanRecoverPassword}"
                        BackgroundColor="Transparent"
                        TextColor="#007AFF"
                        BorderColor="#007AFF"
                        BorderWidth="1"
                        CornerRadius="8"
                        HeightRequest="40" />

                <!-- Indicador de Carregamento -->
                <ActivityIndicator IsVisible="{Binding IsRecoveringPassword}" 
                                  IsRunning="{Binding IsRecoveringPassword}"
                                  HorizontalOptions="Center" />
            </VerticalStackLayout>

            <!-- Mensagem de Status -->
            <Label Text="{Binding Message}" 
                   TextColor="Blue" 
                   HorizontalOptions="Center" 
                   HorizontalTextAlignment="Center"
                   IsVisible="{Binding HasMessage}" />
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>